# üîê shared ‚Äî Proof-of-Work Utilities (PoW)

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é **Proof-of-Work (PoW)** –Ω–∞ –æ—Å–Ω–æ–≤–µ SHA-256, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞ –∏ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ TCP-—Å–µ—Ä–≤–µ—Ä—É.

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç PoW

1. **–°–µ—Ä–≤–µ—Ä** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `challenge` (—Å—Ç—Ä–æ–∫—É) –∏ `difficulty` (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ).
2. **–ö–ª–∏–µ–Ω—Ç** –ø–æ–¥–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–æ–∫—É `nonce`, —Ç–∞–∫—É—é —á—Ç–æ:
   ```
   sha256(challenge + nonce)
   ```
   –∏–º–µ–µ—Ç **–Ω–µ –º–µ–Ω–µ–µ N –Ω—É–ª–µ–π –≤ –Ω–∞—á–∞–ª–µ –±–∏—Ç–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ —Ö–µ—à–∞**.
3. –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —ç—Ç–æ–≥–æ `nonce` –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞.

---

## üì¶ –§—É–Ω–∫—Ü–∏–∏

### `Hash(challenge, nonce string) [32]byte`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç SHA-256 –æ—Ç —Å—Ç—Ä–æ–∫–∏ `challenge + nonce`.

```go
hash := shared.Hash("abc", "123")
```

---

### `ToBitString(hash [32]byte) string`

–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ö–µ—à (–º–∞—Å—Å–∏–≤ –∏–∑ 32 –±–∞–π—Ç) –≤ —Å—Ç—Ä–æ–∫—É –∏–∑ 256 –±–∏—Ç.

```go
bits := shared.ToBitString(hash)
// –ü—Ä–∏–º–µ—Ä: "0000010110011010..."
```

---

### `CheckPoW(challenge, nonce string, difficulty int) (bool, [32]byte, string)`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ `sha256(challenge + nonce)` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω—É–∂–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ `difficulty` –Ω—É–ª–µ–≤—ã—Ö –±–∏—Ç–æ–≤.

```go
ok, hash, bits := shared.CheckPoW("hello", "42", 20)
if ok {
    fmt.Println("‚úî Valid PoW!")
} else {
    fmt.Println("‚ùå Invalid nonce")
}
```

---

## üß™ –ü—Ä–∏–º–µ—Ä: —Ä—É—á–Ω–æ–π –ø–µ—Ä–µ–±–æ—Ä nonce

```go
challenge := "abc123"
difficulty := 20
nonce := 0

for {
    candidate := fmt.Sprintf("%d", nonce)
    ok, hash, bits := shared.CheckPoW(challenge, candidate, difficulty)
    if ok {
        fmt.Printf("‚úÖ Found nonce: %s\nHash: %x\nBits: %s\n", candidate, hash, bits[:32])
        break
    }
    nonce++
}
```

---

## üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

- –ü—Ä–æ—Å—Ç–∞—è –∑–∞—â–∏—Ç–∞ TCP-—Å–µ—Ä–≤–µ—Ä–∞ –æ—Ç —Å–ø–∞–º–∞ / DDoS
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –º–∞–π–Ω–∏–Ω–≥–∞ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- –û–±—Ä–∞—Ç–∏–º–∞—è –∏ –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- `Hash` ‚Äî –≤—ã—á–∏—Å–ª—è–µ—Ç SHA-256(challenge + nonce)
- `ToBitString` ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ö–µ—à–∞ –≤ –≤–∏–¥–µ –±–∏—Ç–æ–≤
- `CheckPoW` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ PoW

---

## ‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è

- –≠—Ç–æ **—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º**, –Ω–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –æ—Ç GPU/ASIC.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è **–æ–±—É—á–∞—é—â–∏—Ö –∏–ª–∏ –∞–Ω—Ç–∏-—Å–ø–∞–º –∑–∞–¥–∞—á**.

---

## üìö –°–º. —Ç–∞–∫–∂–µ

- [Bitcoin whitepaper](https://bitcoin.org/bitcoin.pdf)
- [Hashcash](https://en.wikipedia.org/wiki/Hashcash)
